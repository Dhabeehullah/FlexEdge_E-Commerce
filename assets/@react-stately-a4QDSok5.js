import{r as a}from"./react-CJP9YpS5.js";function m(t,o,c){let[r,f]=a.useState(t||o),i=a.useRef(t!==void 0),e=t!==void 0;a.useEffect(()=>{let n=i.current;n!==e&&console.warn(`WARN: A component changed from ${n?"controlled":"uncontrolled"} to ${e?"controlled":"uncontrolled"}.`),i.current=e},[e]);let l=e?t:r,p=a.useCallback((n,...u)=>{let S=(s,...d)=>{c&&(Object.is(l,s)||c(s,...d)),e||(l=s)};typeof n=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),f((d,...$)=>{let b=n(e?l:d,...$);return S(b,...u),e?d:b})):(e||f(n),S(n,...u))},[e,l,c]);return[l,p]}function C(t={}){let{isReadOnly:o}=t,[c,r]=m(t.isSelected,t.defaultSelected||!1,t.onChange);function f(e){o||r(e)}function i(){o||r(!c)}return{isSelected:c,setSelected:f,toggle:i}}export{m as $,C as a};
