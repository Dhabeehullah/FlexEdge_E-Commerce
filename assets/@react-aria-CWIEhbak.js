import{a as $,r as c}from"./react-CJP9YpS5.js";import{$ as ke}from"./react-dom-Z-DTtB-p.js";const D={prefix:String(Math.round(Math.random()*1e10)),current:0},be=$.createContext(D),Ae=$.createContext(!1);let Ke=!!(typeof window<"u"&&window.document&&window.document.createElement),B=new WeakMap;function He(e=!1){let r=c.useContext(be),t=c.useRef(null);if(t.current===null&&!e){var n,o;let a=(o=$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||o===void 0||(n=o.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(a){let i=B.get(a);i==null?B.set(a,{id:r.current,state:a.memoizedState}):a.memoizedState!==i.state&&(r.current=i.id,B.delete(a))}t.current=++r.current}return t.current}function De(e){let r=c.useContext(be);r===D&&!Ke&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=He(!!e),n=`react-aria${r.prefix}`;return e||`${n}-${t}`}function Re(e){let r=$.useId(),[t]=c.useState(te()),n=t?"react-aria":`react-aria${D.prefix}`;return e||`${n}-${r}`}$.useId;function Ie(){return!1}function We(){return!0}function ze(e){return()=>{}}function te(){return typeof $.useSyncExternalStore=="function"?$.useSyncExternalStore(ze,Ie,We):c.useContext(Ae)}function ve(e){var r,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(t=ve(e[r]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Oe(){for(var e,r,t=0,n="",o=arguments.length;t<o;t++)(e=arguments[t])&&(r=ve(e))&&(n&&(n+=" "),n+=r);return n}const y=typeof document<"u"?$.useLayoutEffect:()=>{};function Ve(e){const r=c.useRef(null);return y(()=>{r.current=e},[e]),c.useCallback((...t)=>{const n=r.current;return n==null?void 0:n(...t)},[])}let ie=new Map;function Be(e,r){if(e===r)return e;let t=ie.get(e);if(t)return t(r),r;let n=ie.get(r);return n?(n(e),e):r}function Ge(...e){return(...r)=>{for(let t of e)typeof t=="function"&&t(...r)}}const E=e=>{var r;return(r=e==null?void 0:e.ownerDocument)!==null&&r!==void 0?r:document},L=e=>e&&"window"in e&&e.window===e?e:E(e).defaultView||window;function ue(...e){let r={...e[0]};for(let t=1;t<e.length;t++){let n=e[t];for(let o in n){let a=r[o],i=n[o];typeof a=="function"&&typeof i=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?r[o]=Ge(a,i):(o==="className"||o==="UNSAFE_className")&&typeof a=="string"&&typeof i=="string"?r[o]=Oe(a,i):o==="id"&&a&&i?r.id=Be(a,i):r[o]=i!==void 0?i:a}}return r}const je=new Set(["id"]),Ue=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),qe=new Set(["href","target","rel","download","ping","referrerPolicy"]),_e=/^(data-.*)$/;function Gt(e,r={}){let{labelable:t,isLink:n,propNames:o}=r,a={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(je.has(i)||t&&Ue.has(i)||n&&qe.has(i)||o!=null&&o.has(i)||_e.test(i))&&(a[i]=e[i]);return a}function j(e){if(Je())e.focus({preventScroll:!0});else{let r=Qe(e);e.focus(),Xe(r)}}let H=null;function Je(){if(H==null){H=!1;try{document.createElement("div").focus({get preventScroll(){return H=!0,!0}})}catch{}}return H}function Qe(e){let r=e.parentNode,t=[],n=document.scrollingElement||document.documentElement;for(;r instanceof HTMLElement&&r!==n;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;return n instanceof HTMLElement&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),t}function Xe(e){for(let{element:r,scrollTop:t,scrollLeft:n}of e)r.scrollTop=t,r.scrollLeft=n}function V(e){var r;return typeof window>"u"||window.navigator==null?!1:((r=window.navigator.userAgentData)===null||r===void 0?void 0:r.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent)}function re(e){var r;return typeof window<"u"&&window.navigator!=null?e.test(((r=window.navigator.userAgentData)===null||r===void 0?void 0:r.platform)||window.navigator.platform):!1}function R(){return re(/^Mac/i)}function Ye(){return re(/^iPhone/i)}function $e(){return re(/^iPad/i)||R()&&navigator.maxTouchPoints>1}function jt(){return Ye()||$e()}function Ze(){return V(/AppleWebKit/i)&&!et()}function et(){return V(/Chrome/i)}function pe(){return V(/Android/i)}function tt(){return V(/Firefox/i)}const me=c.createContext({isNative:!0,open:nt});function Ut(e){let{children:r,navigate:t}=e,n=c.useMemo(()=>({isNative:!1,open:(o,a)=>{he(o,i=>{rt(i,a)?t(i.pathname+i.search+i.hash):K(i,a)})}}),[t]);return $.createElement(me.Provider,{value:n},r)}function qt(){return c.useContext(me)}function rt(e,r){let t=e.getAttribute("target");return(!t||t==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!r.metaKey&&!r.ctrlKey&&!r.altKey&&!r.shiftKey}function K(e,r,t=!0){var n,o;let{metaKey:a,ctrlKey:i,altKey:u,shiftKey:f}=r;tt()&&(!((o=window.event)===null||o===void 0||(n=o.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(R()?a=!0:i=!0);let l=Ze()&&R()&&!$e()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:a,ctrlKey:i,altKey:u,shiftKey:f}):new MouseEvent("click",{metaKey:a,ctrlKey:i,altKey:u,shiftKey:f,bubbles:!0,cancelable:!0});K.isOpening=t,j(e),e.dispatchEvent(l),K.isOpening=!1}K.isOpening=!1;function he(e,r){if(e instanceof HTMLAnchorElement)r(e);else if(e.hasAttribute("data-href")){let t=document.createElement("a");t.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(t.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(t.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(t.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(t.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(t.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(t),r(t),e.removeChild(t)}}function nt(e,r){he(e,t=>K(t,r))}let P=new Map,U=new Set;function le(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let r=n=>{if(!e(n)||!n.target)return;let o=P.get(n.target);o||(o=new Set,P.set(n.target,o),n.target.addEventListener("transitioncancel",t,{once:!0})),o.add(n.propertyName)},t=n=>{if(!e(n)||!n.target)return;let o=P.get(n.target);if(o&&(o.delete(n.propertyName),o.size===0&&(n.target.removeEventListener("transitioncancel",t),P.delete(n.target)),P.size===0)){for(let a of U)a();U.clear()}};document.body.addEventListener("transitionrun",r),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?le():document.addEventListener("DOMContentLoaded",le));function ot(e){requestAnimationFrame(()=>{P.size===0?e():U.add(e)})}function _t(){let e=c.useRef(new Map),r=c.useCallback((o,a,i,u)=>{let f=u!=null&&u.once?(...l)=>{e.current.delete(i),i(...l)}:i;e.current.set(i,{type:a,eventTarget:o,fn:f,options:u}),o.addEventListener(a,i,u)},[]),t=c.useCallback((o,a,i,u)=>{var f;let l=((f=e.current.get(i))===null||f===void 0?void 0:f.fn)||i;o.removeEventListener(a,l,u),e.current.delete(i)},[]),n=c.useCallback(()=>{e.current.forEach((o,a)=>{t(o.eventTarget,o.type,a,o.options)})},[t]);return c.useEffect(()=>n,[n]),{addGlobalListener:r,removeGlobalListener:t,removeAllGlobalListeners:n}}function at(){return typeof window.ResizeObserver<"u"}function Jt(e){const{ref:r,onResize:t}=e;c.useEffect(()=>{let n=r==null?void 0:r.current;if(n)if(at()){const o=new window.ResizeObserver(a=>{a.length&&t()});return o.observe(n),()=>{n&&o.unobserve(n)}}else return window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}},[t,r])}function it(e,r){y(()=>{if(e&&e.ref&&r)return e.ref.current=r.current,()=>{e.ref&&(e.ref.current=null)}})}function ut(e){return e.mozInputSource===0&&e.isTrusted?!0:pe()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Qt(e){return!pe()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const lt=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),ct=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function ge(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize(),n=typeof t.getTextInfo=="function"?t.getTextInfo():t.textInfo;if(n)return n.direction==="rtl";if(t.script)return lt.has(t.script)}let r=e.split("-")[0];return ct.has(r)}const st=Symbol.for("react-aria.i18n.locale");function Ee(){let e=typeof window<"u"&&window[st]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:ge(e)?"rtl":"ltr"}}let q=Ee(),M=new Set;function ce(){q=Ee();for(let e of M)e(q)}function dt(){let e=te(),[r,t]=c.useState(q);return c.useEffect(()=>(M.size===0&&window.addEventListener("languagechange",ce),M.add(t),()=>{M.delete(t),M.size===0&&window.removeEventListener("languagechange",ce)}),[]),e?{locale:"en-US",direction:"ltr"}:r}const ft=$.createContext(null);function Xt(e){let{locale:r,children:t}=e,n=dt(),o=r?{locale:r,direction:ge(r)?"rtl":"ltr"}:n;return $.createElement(ft.Provider,{value:o},t)}const ye=$.createContext({register:()=>{}});ye.displayName="PressResponderContext";function bt({children:e}){let r=c.useMemo(()=>({register:()=>{}}),[]);return $.createElement(ye.Provider,{value:r},e)}class vt{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(r,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=r}}function we(e){let r=c.useRef({isFocused:!1,observer:null});y(()=>{const n=r.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let t=Ve(n=>{e==null||e(n)});return c.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){r.current.isFocused=!0;let o=n.target,a=i=>{r.current.isFocused=!1,o.disabled&&t(new vt("blur",i)),r.current.observer&&(r.current.observer.disconnect(),r.current.observer=null)};o.addEventListener("focusout",a,{once:!0}),r.current.observer=new MutationObserver(()=>{if(r.current.isFocused&&o.disabled){var i;(i=r.current.observer)===null||i===void 0||i.disconnect();let u=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),r.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function xe(e){let{isDisabled:r,onFocus:t,onBlur:n,onFocusChange:o}=e;const a=c.useCallback(f=>{if(f.target===f.currentTarget)return n&&n(f),o&&o(!1),!0},[n,o]),i=we(a),u=c.useCallback(f=>{f.target===f.currentTarget&&document.activeElement===f.target&&(t&&t(f),o&&o(!0),i(f))},[o,t,i]);return{focusProps:{onFocus:!r&&(t||o||n)?u:void 0,onBlur:!r&&(n||o)?a:void 0}}}let F=null,_=new Set,A=new Map,C=!1,J=!1;const $t={Tab:!0,Escape:!0};function ne(e,r){for(let t of _)t(e,r)}function pt(e){return!(e.metaKey||!R()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function I(e){C=!0,pt(e)&&(F="keyboard",ne("keyboard",e))}function w(e){F="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(C=!0,ne("pointer",e))}function Te(e){ut(e)&&(C=!0,F="virtual")}function Le(e){e.target===window||e.target===document||(!C&&!J&&(F="virtual",ne("virtual",e)),C=!1,J=!1)}function Se(){C=!1,J=!0}function Q(e){if(typeof window>"u"||A.get(L(e)))return;const r=L(e),t=E(e);let n=r.HTMLElement.prototype.focus;r.HTMLElement.prototype.focus=function(){C=!0,n.apply(this,arguments)},t.addEventListener("keydown",I,!0),t.addEventListener("keyup",I,!0),t.addEventListener("click",Te,!0),r.addEventListener("focus",Le,!0),r.addEventListener("blur",Se,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",w,!0),t.addEventListener("pointermove",w,!0),t.addEventListener("pointerup",w,!0)):(t.addEventListener("mousedown",w,!0),t.addEventListener("mousemove",w,!0),t.addEventListener("mouseup",w,!0)),r.addEventListener("beforeunload",()=>{Ne(e)},{once:!0}),A.set(r,{focus:n})}const Ne=(e,r)=>{const t=L(e),n=E(e);r&&n.removeEventListener("DOMContentLoaded",r),A.has(t)&&(t.HTMLElement.prototype.focus=A.get(t).focus,n.removeEventListener("keydown",I,!0),n.removeEventListener("keyup",I,!0),n.removeEventListener("click",Te,!0),t.removeEventListener("focus",Le,!0),t.removeEventListener("blur",Se,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",w,!0),n.removeEventListener("pointermove",w,!0),n.removeEventListener("pointerup",w,!0)):(n.removeEventListener("mousedown",w,!0),n.removeEventListener("mousemove",w,!0),n.removeEventListener("mouseup",w,!0)),A.delete(t))};function mt(e){const r=E(e);let t;return r.readyState!=="loading"?Q(e):(t=()=>{Q(e)},r.addEventListener("DOMContentLoaded",t)),()=>Ne(e,t)}typeof document<"u"&&mt();function Ce(){return F!=="pointer"}function ht(){return F}const gt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Et(e,r,t){var n;const o=typeof window<"u"?L(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?L(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?L(t==null?void 0:t.target).HTMLElement:HTMLElement,u=typeof window<"u"?L(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||(t==null?void 0:t.target)instanceof o&&!gt.has(t==null||(n=t.target)===null||n===void 0?void 0:n.type)||(t==null?void 0:t.target)instanceof a||(t==null?void 0:t.target)instanceof i&&(t==null?void 0:t.target.isContentEditable),!(e&&r==="keyboard"&&t instanceof u&&!$t[t.key])}function yt(e,r,t){Q(),c.useEffect(()=>{let n=(o,a)=>{Et(!!(t!=null&&t.isTextInput),o,a)&&e(Ce())};return _.add(n),()=>{_.delete(n)}},r)}function wt(e){let{isDisabled:r,onBlurWithin:t,onFocusWithin:n,onFocusWithinChange:o}=e,a=c.useRef({isFocusWithin:!1}),i=c.useCallback(l=>{a.current.isFocusWithin&&!l.currentTarget.contains(l.relatedTarget)&&(a.current.isFocusWithin=!1,t&&t(l),o&&o(!1))},[t,o,a]),u=we(i),f=c.useCallback(l=>{!a.current.isFocusWithin&&document.activeElement===l.target&&(n&&n(l),o&&o(!0),a.current.isFocusWithin=!0,u(l))},[n,o,u]);return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:i}}}let W=!1,G=0;function X(){W=!0,setTimeout(()=>{W=!1},50)}function se(e){e.pointerType==="touch"&&X()}function xt(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",se):document.addEventListener("touchend",X),G++,()=>{G--,!(G>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",se):document.removeEventListener("touchend",X))}}function Yt(e){let{onHoverStart:r,onHoverChange:t,onHoverEnd:n,isDisabled:o}=e,[a,i]=c.useState(!1),u=c.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;c.useEffect(xt,[]);let{hoverProps:f,triggerHoverEnd:l}=c.useMemo(()=>{let d=(s,m)=>{if(u.pointerType=m,o||m==="touch"||u.isHovered||!s.currentTarget.contains(s.target))return;u.isHovered=!0;let T=s.currentTarget;u.target=T,r&&r({type:"hoverstart",target:T,pointerType:m}),t&&t(!0),i(!0)},b=(s,m)=>{if(u.pointerType="",u.target=null,m==="touch"||!u.isHovered)return;u.isHovered=!1;let T=s.currentTarget;n&&n({type:"hoverend",target:T,pointerType:m}),t&&t(!1),i(!1)},v={};return typeof PointerEvent<"u"?(v.onPointerEnter=s=>{W&&s.pointerType==="mouse"||d(s,s.pointerType)},v.onPointerLeave=s=>{!o&&s.currentTarget.contains(s.target)&&b(s,s.pointerType)}):(v.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},v.onMouseEnter=s=>{!u.ignoreEmulatedMouseEvents&&!W&&d(s,"mouse"),u.ignoreEmulatedMouseEvents=!1},v.onMouseLeave=s=>{!o&&s.currentTarget.contains(s.target)&&b(s,"mouse")}),{hoverProps:v,triggerHoverEnd:b}},[r,t,n,o,u]);return c.useEffect(()=>{o&&l({currentTarget:u.target},u.pointerType)},[o]),{hoverProps:f,isHovered:a}}function de(e){if(!e)return;let r=!0;return t=>{let n={...t,preventDefault(){t.preventDefault()},isDefaultPrevented(){return t.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){r=!1}};e(n),r&&t.stopPropagation()}}function Tt(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:de(e.onKeyDown),onKeyUp:de(e.onKeyUp)}}}function Pe(e){const r=E(e);if(ht()==="virtual"){let t=r.activeElement;ot(()=>{r.activeElement===t&&e.isConnected&&j(e)})}else j(e)}function Lt(e){const r=L(e);if(!(e instanceof r.HTMLElement)&&!(e instanceof r.SVGElement))return!1;let{display:t,visibility:n}=e.style,o=t!=="none"&&n!=="hidden"&&n!=="collapse";if(o){const{getComputedStyle:a}=e.ownerDocument.defaultView;let{display:i,visibility:u}=a(e);o=i!=="none"&&u!=="hidden"&&u!=="collapse"}return o}function St(e,r){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&r&&r.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function Fe(e,r){return e.nodeName!=="#comment"&&Lt(e)&&St(e,r)&&(!e.parentElement||Fe(e.parentElement,e))}const fe=$.createContext(null);let p=null;function Nt(e){let{children:r,contain:t,restoreFocus:n,autoFocus:o}=e,a=c.useRef(null),i=c.useRef(null),u=c.useRef([]),{parentNode:f}=c.useContext(fe)||{},l=c.useMemo(()=>new Z({scopeRef:u}),[u]);y(()=>{let v=f||h.root;if(h.getTreeNode(v.scopeRef)&&p&&!z(p,v.scopeRef)){let s=h.getTreeNode(p);s&&(v=s)}v.addChild(l),h.addNode(l)},[l,f]),y(()=>{let v=h.getTreeNode(u);v&&(v.contain=!!t)},[t]),y(()=>{var v;let s=(v=a.current)===null||v===void 0?void 0:v.nextSibling,m=[];for(;s&&s!==i.current;)m.push(s),s=s.nextSibling;u.current=m},[r]),At(u,n,t),Mt(u,t),Ht(u,n,t),kt(u,o),c.useEffect(()=>{const v=E(u.current?u.current[0]:void 0).activeElement;let s=null;if(g(v,u.current)){for(let m of h.traverse())m.scopeRef&&g(v,m.scopeRef.current)&&(s=m);s===h.getTreeNode(u)&&(p=s.scopeRef)}},[u]),y(()=>()=>{var v,s,m;let T=(m=(s=h.getTreeNode(u))===null||s===void 0||(v=s.parent)===null||v===void 0?void 0:v.scopeRef)!==null&&m!==void 0?m:null;(u===p||z(u,p))&&(!T||h.getTreeNode(T))&&(p=T),h.removeTreeNode(u)},[u]);let d=c.useMemo(()=>Ct(u),[]),b=c.useMemo(()=>({focusManager:d,parentNode:l}),[l,d]);return $.createElement(fe.Provider,{value:b},$.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:a}),r,$.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:i}))}function Ct(e){return{focusNext(r={}){let t=e.current,{from:n,tabbable:o,wrap:a,accept:i}=r,u=n||E(t[0]).activeElement,f=t[0].previousElementSibling,l=N(t),d=S(l,{tabbable:o,accept:i},t);d.currentNode=g(u,t)?u:f;let b=d.nextNode();return!b&&a&&(d.currentNode=f,b=d.nextNode()),b&&x(b,!0),b},focusPrevious(r={}){let t=e.current,{from:n,tabbable:o,wrap:a,accept:i}=r,u=n||E(t[0]).activeElement,f=t[t.length-1].nextElementSibling,l=N(t),d=S(l,{tabbable:o,accept:i},t);d.currentNode=g(u,t)?u:f;let b=d.previousNode();return!b&&a&&(d.currentNode=f,b=d.previousNode()),b&&x(b,!0),b},focusFirst(r={}){let t=e.current,{tabbable:n,accept:o}=r,a=N(t),i=S(a,{tabbable:n,accept:o},t);i.currentNode=t[0].previousElementSibling;let u=i.nextNode();return u&&x(u,!0),u},focusLast(r={}){let t=e.current,{tabbable:n,accept:o}=r,a=N(t),i=S(a,{tabbable:n,accept:o},t);i.currentNode=t[t.length-1].nextElementSibling;let u=i.previousNode();return u&&x(u,!0),u}}}const oe=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Pt=oe.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";oe.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Ft=oe.join(':not([hidden]):not([tabindex="-1"]),');function N(e){return e[0].parentElement}function k(e){let r=h.getTreeNode(p);for(;r&&r.scopeRef!==e;){if(r.contain)return!1;r=r.parent}return!0}function Mt(e,r){let t=c.useRef(),n=c.useRef();y(()=>{let o=e.current;if(!r){n.current&&(cancelAnimationFrame(n.current),n.current=void 0);return}const a=E(o?o[0]:void 0);let i=l=>{if(l.key!=="Tab"||l.altKey||l.ctrlKey||l.metaKey||!k(e))return;let d=a.activeElement,b=e.current;if(!b||!g(d,b))return;let v=N(b),s=S(v,{tabbable:!0},b);if(!d)return;s.currentNode=d;let m=l.shiftKey?s.previousNode():s.nextNode();m||(s.currentNode=l.shiftKey?b[b.length-1].nextElementSibling:b[0].previousElementSibling,m=l.shiftKey?s.previousNode():s.nextNode()),l.preventDefault(),m&&x(m,!0)},u=l=>{(!p||z(p,e))&&g(l.target,e.current)?(p=e,t.current=l.target):k(e)&&!Y(l.target,e)?t.current?t.current.focus():p&&p.current&&O(p.current):k(e)&&(t.current=l.target)},f=l=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{if(a.activeElement&&k(e)&&!Y(a.activeElement,e))if(p=e,a.body.contains(l.target)){var d;t.current=l.target,(d=t.current)===null||d===void 0||d.focus()}else p.current&&O(p.current)})};return a.addEventListener("keydown",i,!1),a.addEventListener("focusin",u,!1),o==null||o.forEach(l=>l.addEventListener("focusin",u,!1)),o==null||o.forEach(l=>l.addEventListener("focusout",f,!1)),()=>{a.removeEventListener("keydown",i,!1),a.removeEventListener("focusin",u,!1),o==null||o.forEach(l=>l.removeEventListener("focusin",u,!1)),o==null||o.forEach(l=>l.removeEventListener("focusout",f,!1))}},[e,r]),y(()=>()=>{n.current&&cancelAnimationFrame(n.current)},[n])}function Me(e){return Y(e)}function g(e,r){return!e||!r?!1:r.some(t=>t.contains(e))}function Y(e,r=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:t}of h.traverse(h.getTreeNode(r)))if(t&&g(e,t.current))return!0;return!1}function z(e,r){var t;let n=(t=h.getTreeNode(r))===null||t===void 0?void 0:t.parent;for(;n;){if(n.scopeRef===e)return!0;n=n.parent}return!1}function x(e,r=!1){if(e!=null&&!r)try{Pe(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function O(e,r=!0){let t=e[0].previousElementSibling,n=N(e),o=S(n,{tabbable:r},e);o.currentNode=t;let a=o.nextNode();r&&!a&&(n=N(e),o=S(n,{tabbable:!1},e),o.currentNode=t,a=o.nextNode()),x(a)}function kt(e,r){const t=$.useRef(r);c.useEffect(()=>{if(t.current){p=e;const n=E(e.current?e.current[0]:void 0);!g(n.activeElement,p.current)&&e.current&&O(e.current)}t.current=!1},[e])}function At(e,r,t){y(()=>{if(r||t)return;let n=e.current;const o=E(n?n[0]:void 0);let a=i=>{let u=i.target;g(u,e.current)?p=e:Me(u)||(p=null)};return o.addEventListener("focusin",a,!1),n==null||n.forEach(i=>i.addEventListener("focusin",a,!1)),()=>{o.removeEventListener("focusin",a,!1),n==null||n.forEach(i=>i.removeEventListener("focusin",a,!1))}},[e,r,t])}function Kt(e){let r=h.getTreeNode(p);for(;r&&r.scopeRef!==e;){if(r.nodeToRestore)return!1;r=r.parent}return(r==null?void 0:r.scopeRef)===e}function Ht(e,r,t){const n=c.useRef(typeof document<"u"?E(e.current?e.current[0]:void 0).activeElement:null);y(()=>{let o=e.current;const a=E(o?o[0]:void 0);if(!r||t)return;let i=()=>{(!p||z(p,e))&&g(a.activeElement,e.current)&&(p=e)};return a.addEventListener("focusin",i,!1),o==null||o.forEach(u=>u.addEventListener("focusin",i,!1)),()=>{a.removeEventListener("focusin",i,!1),o==null||o.forEach(u=>u.removeEventListener("focusin",i,!1))}},[e,t]),y(()=>{const o=E(e.current?e.current[0]:void 0);if(!r)return;let a=i=>{if(i.key!=="Tab"||i.altKey||i.ctrlKey||i.metaKey||!k(e))return;let u=o.activeElement;if(!g(u,e.current))return;let f=h.getTreeNode(e);if(!f)return;let l=f.nodeToRestore,d=S(o.body,{tabbable:!0});d.currentNode=u;let b=i.shiftKey?d.previousNode():d.nextNode();if((!l||!o.body.contains(l)||l===o.body)&&(l=void 0,f.nodeToRestore=void 0),(!b||!g(b,e.current))&&l){d.currentNode=l;do b=i.shiftKey?d.previousNode():d.nextNode();while(g(b,e.current));i.preventDefault(),i.stopPropagation(),b?x(b,!0):Me(l)?x(l,!0):u.blur()}};return t||o.addEventListener("keydown",a,!0),()=>{t||o.removeEventListener("keydown",a,!0)}},[e,r,t]),y(()=>{const o=E(e.current?e.current[0]:void 0);if(!r)return;let a=h.getTreeNode(e);if(a){var i;return a.nodeToRestore=(i=n.current)!==null&&i!==void 0?i:void 0,()=>{let u=h.getTreeNode(e);if(!u)return;let f=u.nodeToRestore;if(r&&f&&(g(o.activeElement,e.current)||o.activeElement===o.body&&Kt(e))){let l=h.clone();requestAnimationFrame(()=>{if(o.activeElement===o.body){let d=l.getTreeNode(e);for(;d;){if(d.nodeToRestore&&d.nodeToRestore.isConnected){x(d.nodeToRestore);return}d=d.parent}for(d=l.getTreeNode(e);d;){if(d.scopeRef&&d.scopeRef.current&&h.getTreeNode(d.scopeRef)){O(d.scopeRef.current,!0);return}d=d.parent}}})}}}},[e,r])}function S(e,r,t){let n=r!=null&&r.tabbable?Ft:Pt,o=E(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var i;return!(r==null||(i=r.from)===null||i===void 0)&&i.contains(a)?NodeFilter.FILTER_REJECT:a.matches(n)&&Fe(a)&&(!t||g(a,t))&&(!(r!=null&&r.accept)||r.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return r!=null&&r.from&&(o.currentNode=r.from),o}class ae{get size(){return this.fastMap.size}getTreeNode(r){return this.fastMap.get(r)}addTreeNode(r,t,n){let o=this.fastMap.get(t??null);if(!o)return;let a=new Z({scopeRef:r});o.addChild(a),a.parent=o,this.fastMap.set(r,a),n&&(a.nodeToRestore=n)}addNode(r){this.fastMap.set(r.scopeRef,r)}removeTreeNode(r){if(r===null)return;let t=this.fastMap.get(r);if(!t)return;let n=t.parent;for(let a of this.traverse())a!==t&&t.nodeToRestore&&a.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&g(a.nodeToRestore,t.scopeRef.current)&&(a.nodeToRestore=t.nodeToRestore);let o=t.children;n&&(n.removeChild(t),o.size>0&&o.forEach(a=>n&&n.addChild(a))),this.fastMap.delete(t.scopeRef)}*traverse(r=this.root){if(r.scopeRef!=null&&(yield r),r.children.size>0)for(let t of r.children)yield*this.traverse(t)}clone(){var r;let t=new ae;var n;for(let o of this.traverse())t.addTreeNode(o.scopeRef,(n=(r=o.parent)===null||r===void 0?void 0:r.scopeRef)!==null&&n!==void 0?n:null,o.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new Z({scopeRef:null}),this.fastMap.set(null,this.root)}}class Z{addChild(r){this.children.add(r),r.parent=this}removeChild(r){this.children.delete(r),r.parent=void 0}constructor(r){this.children=new Set,this.contain=!1,this.scopeRef=r.scopeRef}}let h=new ae;function Zt(e={}){let{autoFocus:r=!1,isTextInput:t,within:n}=e,o=c.useRef({isFocused:!1,isFocusVisible:r||Ce()}),[a,i]=c.useState(!1),[u,f]=c.useState(()=>o.current.isFocused&&o.current.isFocusVisible),l=c.useCallback(()=>f(o.current.isFocused&&o.current.isFocusVisible),[]),d=c.useCallback(s=>{o.current.isFocused=s,i(s),l()},[l]);yt(s=>{o.current.isFocusVisible=s,l()},[],{isTextInput:t});let{focusProps:b}=xe({isDisabled:n,onFocusChange:d}),{focusWithinProps:v}=wt({isDisabled:!n,onFocusWithinChange:d});return{isFocused:a,isFocusVisible:u,focusProps:n?v:b}}let Dt=$.createContext(null);function Rt(e){let r=c.useContext(Dt)||{};it(r,e);let{ref:t,...n}=r;return n}function er(e,r){let{focusProps:t}=xe(e),{keyboardProps:n}=Tt(e),o=ue(t,n),a=Rt(r),i=e.isDisabled?{}:a,u=c.useRef(e.autoFocus);return c.useEffect(()=>{u.current&&r.current&&Pe(r.current),u.current=!1},[r]),{focusableProps:ue({...o,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},i)}}const ee=$.createContext(null);function It(e){let{children:r}=e,t=c.useContext(ee),[n,o]=c.useState(0),a=c.useMemo(()=>({parent:t,modalCount:n,addModal(){o(i=>i+1),t&&t.addModal()},removeModal(){o(i=>i-1),t&&t.removeModal()}}),[t,n]);return $.createElement(ee.Provider,{value:a},r)}function Wt(){let e=c.useContext(ee);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:null}}}function zt(e){let{modalProviderProps:r}=Wt();return $.createElement("div",{"data-overlay-container":!0,...e,...r})}function tr(e){return $.createElement(It,null,$.createElement(zt,e))}const Ot=$.createContext(null);function rr(e){let r=te(),{portalContainer:t=r?null:document.body,isExiting:n}=e,[o,a]=c.useState(!1),i=c.useMemo(()=>({contain:o,setContain:a}),[o,a]);if(!t)return null;let u=e.children;return e.disableFocusManagement||(u=$.createElement(Nt,{restoreFocus:!0,contain:o&&!n},u)),u=$.createElement(Ot.Provider,{value:i},$.createElement(bt,null,u)),ke.createPortal(u,t)}export{Xt as $,tr as a,Ut as b,jt as c,ot as d,_t as e,Ve as f,Qt as g,j as h,ut as i,ue as j,it as k,R as l,K as m,er as n,Gt as o,Zt as p,Ge as q,Yt as r,qt as s,rt as t,rr as u,Jt as v};
